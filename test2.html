<html>
  <head>
    <script src="http://js.leapmotion.com/leap-0.4.2.js"></script>
    <script src="wavesufer.js"></script>
    <link rel="stylesheet" href="style.css">
    <!-- /*<style type="text/css">
      #position {
        width: 25px;
        height: 25px;
        position: absolute;
        background-color: blue;
      }
    </style>*/ -->
  </head>
  <body>
    <section id="sp">
    <div id="pad1" data-sound="sound_test1.wav"></div>
    <div id="pad2" data-sound="sound_test2.wav"></div>
    <div id="pad3" data-sound="sound_test3.wav"></div>
    <div id="pad4" data-sound="sound_test4.wav"></div>
</section>
  </body>
  <script type="text/javascript">
  //   Leap.loop(function(frame) {
  //       if (frame.pointables.length > 0) {
  //         var position = frame.pointables[0].stabilizedTipPosition;
  //         var normalized = frame.interactionBox.normalizePoint(position);
  //         console.log(normalized[2])
  //         var element = document.getElementById("position");

  //         element.style.left = window.innerWidth * normalized[0];
  //         element.style.top = window.innerHeight * (1 - normalized[1]);
  //         element.style.width = 100 * (normalized[2] *14);
  //         if (normalized[2] < 0.0){
  //           element.style.width = 100;
  //         }

  //       }
  //   });
  // </script>



  <script>

    var context = new AudioContext();

    function loadAudio(object, url) {

        var request = new XMLHttpRequest();
        request.open('GET', url, true);
        request.responseType = 'arraybuffer';

        request.onload = function() {
            context.decodeAudioData(request.response, function(buffer) {
                object.buffer = buffer;
            });
        }
        request.send();
    }

    function addAudioProperties(object) {
    object.name = object.id;
    object.source = $(object).data('sound');
    loadAudio(object, object.source);
    object.play = function () {
        var s = context.createBufferSource();
        s.buffer = object.buffer;
        s.connect(context.destination);
        s.start(0);
        object.s = s;
    }
}


        </script>









